(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{227:function(t,e,a){t.exports=a.p+"assets/img/DOM.6c96bbc0.png"},228:function(t,e,a){t.exports=a.p+"assets/img/thread.08c8469c.png"},229:function(t,e,a){t.exports=a.p+"assets/img/sync.436046c1.png"},284:function(t,e,a){"use strict";a.r(e);var s=a(0),v=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"dom编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom编程"}},[t._v("#")]),t._v(" DOM编程")]),t._v(" "),s("h2",{attrs:{id:"获取元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取元素"}},[t._v("#")]),t._v(" 获取元素")]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("window.id")]),t._v(" 或者直接 "),s("code",[t._v("id")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("querySelector('red')")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("querySelectorAll('red')[0]")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("document.documentElement")]),t._v("可以获取整个html元素")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("一般在兼容IE才会用"),s("code",[t._v("getElementById")]),t._v(", "),s("code",[t._v("getElementsByTagName")]),t._v("这些API")])]),t._v(" "),s("h2",{attrs:{id:"元素的原型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#元素的原型"}},[t._v("#")]),t._v(" 元素的原型")]),t._v(" "),s("p",[s("img",{attrs:{src:a(227),alt:"dom"}})]),t._v(" "),s("h2",{attrs:{id:"节点与元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#节点与元素"}},[t._v("#")]),t._v(" 节点与元素")]),t._v(" "),s("p",[t._v("元素(Element, 也叫标签(Tag))节点(Node)的一种, 文本(Text)是另一种节点, "),s("code",[t._v("Node")]),t._v("对象有一个"),s("code",[t._v("nodeType")]),t._v("方法可以判断这个节点属于哪种类型:")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 最常用的节点类型如下")]),t._v("\n\nElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nText"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\nComment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h2",{attrs:{id:"dom增删改查-crud-boy-的宿命"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom增删改查-crud-boy-的宿命"}},[t._v("#")]),t._v(" DOM增删改查: CRUD boy 的宿命")]),t._v(" "),s("h3",{attrs:{id:"增"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#增"}},[t._v("#")]),t._v(" 增")]),t._v(" "),s("h4",{attrs:{id:"创建标签节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建标签节点"}},[t._v("#")]),t._v(" 创建标签节点")]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("let div = document.createElement('div') //在JS线程里存在, 还没有通知渲染引擎将 div 渲染到屏幕上")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("document.body.appendChild(div) //将div挂载到body上, 现在能够显示在屏幕上")])])])]),t._v(" "),s("h4",{attrs:{id:"创建文本节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建文本节点"}},[t._v("#")]),t._v(" 创建文本节点")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("let text = document.createTextNode('你好')")])]),t._v(" "),s("li",[s("code",[t._v("document.body.appendChild(text)")])])]),t._v(" "),s("p",[t._v("或者")]),t._v(" "),s("p",[s("code",[t._v("document.body.innerText/textContent = '你好'")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("将同一个"),s("code",[t._v("div")]),t._v("append到不用的父元素里, "),s("code",[t._v("div")]),t._v("会添加到最后append的地方")])]),t._v(" "),s("h3",{attrs:{id:"删"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删"}},[t._v("#")]),t._v(" 删")]),t._v(" "),s("p",[t._v("删除元素有两种方法:")]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("ParentNode.removeChild(ChildNode)")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("ChildNode.remove()")])])])]),t._v(" "),s("p",[t._v("这两个方法都是将元素从DOM树上删除, 但没有在JS内存种删除, 如果事先使用一个变量存储这个节点, 那么可以用这个变量将删除的元素重新加载到DOM树上.")]),t._v(" "),s("h3",{attrs:{id:"改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改"}},[t._v("#")]),t._v(" 改")]),t._v(" "),s("h4",{attrs:{id:"改属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改属性"}},[t._v("#")]),t._v(" 改属性")]),t._v(" "),s("ul",[s("li",[t._v("改"),s("code",[t._v("class")]),t._v("属性: "),s("code",[t._v("div.className = 'red'")])]),t._v(" "),s("li",[t._v("改"),s("code",[t._v("style")]),t._v(": "),s("code",[t._v("div.style.backgroundColor = 'blue'")])]),t._v(" "),s("li",[t._v("改"),s("code",[t._v("data-*")]),t._v("属性: "),s("code",[t._v("div.dataset.x = 'xxx'")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("读取属性: "),s("code",[t._v("div.getAttribute('color')")])])]),t._v(" "),s("h4",{attrs:{id:"改事件处理函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改事件处理函数"}},[t._v("#")]),t._v(" 改事件处理函数")]),t._v(" "),s("p",[s("code",[t._v("div.onclick")]),t._v("在原型链上被默认设置为"),s("code",[t._v("null")]),t._v(", 如果将其改写为一个函数, 那么它将以"),s("code",[t._v("fn.call(this, event)")]),t._v("方式调用, "),s("code",[t._v("this")]),t._v("指向触发点击事件的元素, "),s("code",[t._v("event")]),t._v("是包含点击事件的信息")]),t._v(" "),s("h4",{attrs:{id:"改父元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改父元素"}},[t._v("#")]),t._v(" 改父元素")]),t._v(" "),s("p",[s("code",[t._v("newParentNode.appendChild(div)")])]),t._v(" "),s("h3",{attrs:{id:"查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查"}},[t._v("#")]),t._v(" 查")]),t._v(" "),s("h4",{attrs:{id:"查父元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查父元素"}},[t._v("#")]),t._v(" 查父元素")]),t._v(" "),s("p",[s("code",[t._v("div.parentNode")]),t._v(" 或者 "),s("code",[t._v("div.parentElement")])]),t._v(" "),s("h4",{attrs:{id:"查爷爷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查爷爷"}},[t._v("#")]),t._v(" 查爷爷")]),t._v(" "),s("p",[s("code",[t._v("node.parentNode.parentNode")])]),t._v(" "),s("h4",{attrs:{id:"查子代"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查子代"}},[t._v("#")]),t._v(" 查子代")]),t._v(" "),s("p",[s("code",[t._v("node.childNodes 或者 node.children")])]),t._v(" "),s("h4",{attrs:{id:"查兄弟姐妹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查兄弟姐妹"}},[t._v("#")]),t._v(" 查兄弟姐妹")]),t._v(" "),s("p",[s("code",[t._v("node.parentNode.childNodes")]),t._v(" 或者 "),s("code",[t._v("node.parentNode.children")])]),t._v(" "),s("h4",{attrs:{id:"查看老大"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看老大"}},[t._v("#")]),t._v(" 查看老大")]),t._v(" "),s("p",[s("code",[t._v("node.firstChild")])]),t._v(" "),s("h4",{attrs:{id:"查看老幺"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看老幺"}},[t._v("#")]),t._v(" 查看老幺")]),t._v(" "),s("p",[s("code",[t._v("node.lastChild")])]),t._v(" "),s("h4",{attrs:{id:"查看哥哥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看哥哥"}},[t._v("#")]),t._v(" 查看哥哥")]),t._v(" "),s("p",[s("code",[t._v("node.previousSibling")]),t._v(" 或者 "),s("code",[t._v("node.previousElementSibling")])]),t._v(" "),s("h4",{attrs:{id:"查看弟弟"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看弟弟"}},[t._v("#")]),t._v(" 查看弟弟")]),t._v(" "),s("p",[s("code",[t._v("node.nextSibling")]),t._v(" 或者 "),s("code",[t._v("node.nextElementSibling")])]),t._v(" "),s("h2",{attrs:{id:"dom-cross-thread"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom-cross-thread"}},[t._v("#")]),t._v(" DOM cross thread")]),t._v(" "),s("p",[t._v("浏览器里有渲染引擎和JS引擎, 它们是两个模块, 各自独立工作. JS引擎不能去操作页面, 那么我们是怎么用DOM来改变页面的呢? 是因为JS引擎对DOM操作后, 浏览器会通知渲染引擎按照JS里执行的代码去重新渲染页面. 这算是一种跨线程通信. 而这通信成本使得DOM操作的速度受到影响.")]),t._v(" "),s("p",[s("img",{attrs:{src:a(228),alt:"thread"}})]),t._v(" "),s("h3",{attrs:{id:"属性同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性同步"}},[t._v("#")]),t._v(" 属性同步")]),t._v(" "),s("p",[t._v("对元素的属性的修改(指在JS代码里)有可能同步到渲染引擎里. "),s("strong",[t._v("标准属性")]),t._v("与 "),s("strong",[s("code",[t._v("data-*")]),t._v("属性")]),t._v(" 会同步("),s("code",[t._v("href")]),t._v(", "),s("code",[t._v("id")]),t._v(", "),s("code",[t._v("class")]),t._v(", "),s("code",[t._v("title")]),t._v(", "),s("code",[t._v("data-x")]),t._v("等), 而自定义属性不会同步. 如果想让自定义属性也能同步, 则应使用 "),s("strong",[s("code",[t._v("data-")]),t._v("属性")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(229),alt:"sync"}})]),t._v(" "),s("h3",{attrs:{id:"property-与-attribute"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#property-与-attribute"}},[t._v("#")]),t._v(" Property 与 Attribute")]),t._v(" "),s("p",[t._v("JS线程里div的属性叫Property, 渲染引擎里div的属性叫Attribute. 大部分时两者相同, 如果不是标准属性, 那么修改后就会不同了.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("attribute只支持字符串, property支持字符串和布尔等类型")])])])}),[],!1,null,null,null);e.default=v.exports}}]);